<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
			
   <p:dataTable id="tablaArticulos" var="articulo" 
   	value="#{clienteMB.articulos_auxiliares}" editable="true" 
   	editMode="cell" rowKey="#{articulo.id}">
	     	
		<f:facet name="header">
			Articulos
		</f:facet>
	
		<f:facet name="footer">
			<p:commandButton title="[+]Agregar" value="[+]Agregar" 
				actionListener="#{clienteMB.agregarRegistro}" update="tablaArticulos" />
		</f:facet>
	     
    	<p:column headerText="Id">
    		<h:outputText rendered="#{not articulo.readyForDelete}" value="#{articulo.id}" />
    		<h:outputText rendered="#{articulo.readyForDelete}" value="#{articulo.id}" 
    			style="text-decoration: line-through;"/>
     	</p:column>
     		      	
      	<p:column headerText="Marca">
      		<p:cellEditor rendered="#{not articulo.readyForDelete}">
      			<f:facet name="output" ><h:outputText value="#{articulo.marca}"/></f:facet>
      			<f:facet name="input" ><p:inputText value="#{articulo.marca}"/></f:facet>
      		</p:cellEditor>
      		<h:outputText rendered="#{articulo.readyForDelete}" value="#{articulo.marca}"
      			style="text-decoration: line-through;"/>
      	</p:column>
      	
      	<p:column headerText="Nombre">
      		<p:cellEditor rendered="#{not articulo.readyForDelete}">
      			<f:facet name="output" >
      				<h:outputText value="#{articulo.nombre}" /></f:facet>
      			<f:facet name="input" >
      				<p:inputText value="#{articulo.nombre}" /></f:facet>
      		</p:cellEditor>
			<h:outputText rendered="#{articulo.readyForDelete}" value="#{articulo.nombre}"
				style="text-decoration: line-through;"/>      		
      	</p:column>
      	
      	<p:column headerText="NÃºmero de serie">
      		<p:cellEditor rendered="#{not articulo.readyForDelete}">
      			<f:facet name="output" >
      				<h:outputText value="#{articulo.numeroSerie}" /></f:facet>
      			<f:facet name="input" >
      				<p:inputText value="#{articulo.numeroSerie}" /></f:facet>
      		</p:cellEditor>
			<h:outputText rendered="#{articulo.readyForDelete}" value="#{articulo.numeroSerie}"
				style="text-decoration: line-through;"/>
      	</p:column>
      	
      	<p:column headerText="Eliminar" rendered="#{not articulo.readyForDelete}">
			<p:commandButton icon="ui-icon-close" 
				action="#{clienteMB.markArticuloForDelete(articulo)}" 
				update="tablaArticulos" >
			</p:commandButton>
      	</p:column>
      	
	</p:dataTable>

</html>